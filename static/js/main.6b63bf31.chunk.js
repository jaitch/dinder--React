(this["webpackJsonpdinder--React"]=this["webpackJsonpdinder--React"]||[]).push([[0],{36:function(e,t,n){e.exports=n.p+"static/media/pan-icon-3.5d80a88a.png"},47:function(e,t,n){e.exports=n(80)},52:function(e,t,n){},71:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),c=n.n(i),o=(n(52),n(6)),s=n(7),l=n(9),u=n(8),d=n(10),h=n(36),m=n.n(h),p=n(11),f=n(13),g=n.n(f),v=n(38),b=n(3),E=(n(71),n(37)),k=n.n(E);n(74);var y=function(e){var t=e.ings;if(t!==[]){var n=t.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}));return r.a.createElement("div",{className:"recipe-search-box"},r.a.createElement("h3",{className:"instructions"},"To matchmake another ingredient, click on the circle."),r.a.createElement("h3",null,"To add an ingredient to the recipe search, click on the name."),r.a.createElement("ul",{className:"list"},n),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Search",onClick:e.recipeSearchCallback(),className:"recipe-submit-btn"}),r.a.createElement("input",{type:"submit",value:"Clear",onClick:function(){return e.onClickClearCallback()},className:"recipe-clear-btn"})))}};n(75);var S=function(e){var t=e.list.rec_data.map((function(e){return e.allData}));if(0===t.length)return Object(p.b)("Sorry! No recipes found for that combination."),r.a.createElement("div",null,r.a.createElement(p.a,null));var n=t.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"}," ",e.name," "))}));return r.a.createElement("div",null,r.a.createElement("h3",{className:"recipe-list-header"},"RECIPES"),r.a.createElement("ul",{className:"recipe-list"},n))},_=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onRecipeSearch=function(){console.log("before params ".concat(n.state.recipeSearchIngredients));var e={ing:n.state.recipeSearchIngredients.map((function(e){return e.id}))},t=g.a.create({paramsSerializer:function(e){return k.a.stringify(e,{arrayFormat:"repeat"})}});console.log("these are the params ".concat(e)),t.get("".concat(n.props.url,"/recipes/"),{params:e}).then((function(e){console.log(e.data),e.data!==[]&&n.setState({recFound:e.data,displayRecipes:!0})})).catch((function(e){n.setState({error:e.title}),console.log("errors: ".concat(e))}))},n.onRecipeClear=function(){n.setState({recipeSearchIngredients:[],displayRecipes:!1})},n.state={recipeSearchIngredients:[],recFound:[],displayRecipes:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.data.ing_data!==[]&&this.drawGraph(this.props.data)}},{key:"componentDidUpdate",value:function(){this.props.data.ing_data!==[]&&(b.f("g > *").remove(),this.drawGraph(this.props.data))}},{key:"drawGraph",value:function(e){var t=this,n=e.ing_data;console.log(n[0]);var a=[{id:n[0].source_id,name:n[0].source_name,strength:1}].concat(Object(v.a)(n.map((function(e){return{id:e.target_id,name:e.target,strength:e.strength}})))),r=n.map((function(e){return{source:e.source_id,target:e.target_id,strength:e.strength}})),i=b.e("svg"),c=+i.attr("width"),o=+i.attr("height"),s=b.d().nodes(a);s.force("charge_force",b.c().strength(-2e3)).force("center_force",b.a(c/2,o/2));var l=b.e(this.refs.links),u=b.e(this.refs.nodes),d=u.attr("class","nodes").selectAll("circle").data(a).enter().append("circle").attr("r",(function(e){if(1===e.strength)return 45;return 400*e.strength})).attr("fill",(function(e){return e===a[0]?"#fd267d":"#ff7854"})).style("stroke","black").on("mouseover",(function(e){e!==a[0]&&b.e(this).transition().attr("fill","#fd267d")})).on("mouseout",(function(e){e!==a[0]&&b.e(this).transition().duration(100).attr("fill","#ff7854")})).on("click",(function(e){console.log(e.name),t.props.findNewSimilaritiesCallback(e.name)})),h=u.selectAll("text").data(a).enter().append("text").text((function(e){return e.name})).attr("font-size",20).attr("dx",15).attr("dy",4).on("mouseover",(function(e){b.e(this).transition().attr("font-size",25).attr("font-weight","bold")})).on("mouseout",(function(e){b.e(this).transition().duration(100).attr("font-size",20).attr("font-weight","normal")})).on("click",(function(e){var n=t.state.recipeSearchIngredients;if(n.length>0){if(!1!==n.map((function(e){return e.id})).includes(e.id))return;var a=n.concat(e);t.setState({recipeSearchIngredients:a})}else{var r=n.concat(e);t.setState({recipeSearchIngredients:r})}})),m=l.attr("class","links").selectAll("line").data(r).enter().append("line").attr("stroke-width",1.5).style("opacity",.6);s.on("tick",(function(){d.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),h.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),m.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y}))}));var p=b.b(r).id((function(e){return e.id}));s.force("links",p)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("svg",{width:"1100",height:"900",className:"graph"},r.a.createElement("g",{ref:"links"}),r.a.createElement("g",{ref:"nodes"})),r.a.createElement("div",{className:"Recipe-search"},r.a.createElement(y,{ings:this.state.recipeSearchIngredients,recipeSearchCallback:this.onRecipeSearch,onClickClearCallback:this.onRecipeClear})),r.a.createElement("div",null,!0===this.state.displayRecipes&&r.a.createElement(S,{list:this.state.recFound})))}}]),t}(a.Component),N=(n(78),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).notify=function(){return Object(p.b)("Sorry! Ingredient not found.")},n.onInputChange=function(e){n.setState({soughtIngredient_name:e.target.value.toLowerCase()}),console.log("updated! looking for: ".concat(n.state.soughtIngredient_name))},n.onSubmit=function(e){e.preventDefault(),g.a.get("".concat(n.props.url,"/ingredient/").concat(n.state.soughtIngredient_name)).then((function(e){console.log(e.data),e.data.ing_data.length>0?n.setState({graphData:e.data,ing_found:!0,soughtIngredient_name:""}):n.notify()})).catch((function(e){n.setState({ing_found:!1,error:e.title}),console.log("errors: ".concat(e))}))},n.findNewSimilarities=function(e){g.a.get("".concat(n.props.url,"/ingredient/").concat(e)).then((function(e){console.log(e.data),n.setState({graphData:e.data,ing_found:!0,soughtIngredient_name:""})})).catch((function(e){n.setState({ing_found:!1,error:e.title}),console.log("errors: ".concat(e))}))},n.state={soughtIngredient_name:"",graph_data:[],ing_found:!1,error:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"search-area"},r.a.createElement("label",{className:"text",htmlFor:"text"},"What's Cookin'?")),r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",placeholder:"ingredient (singular)",onfocus:this.placeholder,name:"ingredient",onChange:this.onInputChange,value:this.state.soughtIngredient})),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Search",onClick:this.onSubmit,className:"submit-btn"}))),r.a.createElement("div",null,!0===this.state.ing_found&&r.a.createElement(_,{data:this.state.graphData,findNewSimilaritiesCallback:this.findNewSimilarities,url:this.props.url})),r.a.createElement(p.a,null))}}]),t}(a.Component)),C=(n(79),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this))).state={},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",{className:"App-title"},"dinder"),r.a.createElement("p",{className:"App-subtitle"},"The Ingredient Matchmaker")),r.a.createElement("main",{className:"App-body"},r.a.createElement(N,{url:"http://localhost:5000"})),r.a.createElement("footer",null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.6b63bf31.chunk.js.map