(this["webpackJsonpdinder--React"]=this["webpackJsonpdinder--React"]||[]).push([[0],{31:function(e,t,n){e.exports=n.p+"static/media/pan-icon-3.5d80a88a.png"},41:function(e,t,n){e.exports=n(68)},46:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(30),c=n.n(i),o=(n(46),n(4)),s=n(5),l=n(7),u=n(6),d=n(8),h=n(31),m=n.n(h),f=n(10),g=n.n(f),p=n(32),v=n(2);n(65);var b=function(e){var t=e.ings;if(t!==[]){var n=t.map((function(e){return r.a.createElement("li",null,e)}));return r.a.createElement("div",{className:"search-box"},r.a.createElement("h3",{className:"instructions"},"To matchmake another ingredient, click on the circle."),r.a.createElement("h3",null,"To add an ingredient to the recipe search, click on the name."),r.a.createElement("ul",null,n),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Search",onClick:function(){e.recipeSearchCallback()},className:"submit-btn"})))}},k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSearch=function(){g.a.get("".concat(n.props.url,"/recipe/").concat(n.state.recipeSearchIngredients)).then((function(e){console.log(e.data),n.setState({rec_found:e.data,displayRecipes:!0})})).catch((function(e){n.setState({error:e.title}),console.log("errors: ".concat(e))}))},n.state={recipeSearchIngredients:[],recFound:[],displayRecipes:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.data.ing_data&&this.drawGraph(this.props.data)}},{key:"componentDidUpdate",value:function(){this.props.data.ing_data&&(v.f("g > *").remove(),this.drawGraph(this.props.data))}},{key:"drawGraph",value:function(e){var t=this;if(e.ing_data){var n=e.ing_data;console.log(n[0]);var a=[{id:n[0].source_id,name:n[0].source_name,strength:1}].concat(Object(p.a)(n.map((function(e){return{id:e.target_id,name:e.target,strength:e.strength}})))),r=n.map((function(e){return{source:e.source_id,target:e.target_id,strength:e.strength}})),i=v.e("svg"),c=+i.attr("width"),o=+i.attr("height"),s=v.d().nodes(a);s.force("charge_force",v.c().strength(-2500)).force("center_force",v.a(c/2,o/2));var l=v.e(this.refs.links),u=v.e(this.refs.nodes),d=u.attr("class","nodes").selectAll("circle").data(a).enter().append("circle").attr("r",(function(e){if(1===e.strength)return 50;return 450*e.strength})).attr("fill",(function(e){return e===a[0]?"#fd267d":"#ff7854"})).style("stroke","black").on("mouseover",(function(e){e!==a[0]&&v.e(this).transition().attr("fill","#fd267d")})).on("mouseout",(function(e){e!==a[0]&&v.e(this).transition().duration(100).attr("fill","#ff7854")})).on("click",(function(e){console.log(e.name),t.props.findNewSimilaritiesCallback(e.name)})),h=u.selectAll("text").data(a).enter().append("text").text((function(e){return e.name})).attr("font-size",20).attr("dx",15).attr("dy",4).on("mouseover",(function(e){v.e(this).transition().attr("font-size",25).attr("font-weight","bold")})).on("mouseout",(function(e){v.e(this).transition().duration(100).attr("font-size",20).attr("font-weight","normal")})).on("click",(function(e){var n=t.state.recipeSearchIngredients.concat(e.name);t.setState({recipeSearchIngredients:n})})),m=l.attr("class","links").selectAll("line").data(r).enter().append("line").attr("stroke-width",1.5).style("opacity",.6);s.on("tick",(function(){d.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),h.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),m.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y}))}));var f=v.b(r).id((function(e){return e.id}));s.force("links",f)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},!1===this.state.displayRecipes?r.a.createElement("svg",{width:"1100",height:"900",className:"graph"},r.a.createElement("g",{ref:"links"}),r.a.createElement("g",{ref:"nodes"})):r.a.createElement("div",null," Recipe Results "),r.a.createElement("div",{className:"Recipe-search"},r.a.createElement(b,{ings:this.state.recipeSearchIngredients,recipeSearchCallback:this.onSearch})))}}]),t}(a.Component),E=(n(66),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onInputChange=function(e){n.setState({soughtIngredient_name:e.target.value}),console.log("updated! looking for: ".concat(n.state.soughtIngredient_name))},n.onSubmit=function(e){e.preventDefault(),g.a.get("".concat(n.props.url,"/ingredient/").concat(n.state.soughtIngredient_name)).then((function(e){console.log(e.data),e.data.ing_data.length>0&&n.setState({graphData:e.data,ing_found:!0,soughtIngredient_name:""})})).catch((function(e){n.setState({ing_found:!1,error:e.title}),console.log("errors: ".concat(e))}))},n.findNewSimilarities=function(e){g.a.get("".concat(n.props.url,"/ingredient/").concat(e)).then((function(e){console.log(e.data),n.setState({graphData:e.data,ing_found:!0,soughtIngredient_name:""})})).catch((function(e){n.setState({ing_found:!1,error:e.title}),console.log("errors: ".concat(e))}))},n.state={soughtIngredient_name:"",graph_data:[],ing_found:!1,error:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"search-area"},r.a.createElement("label",{className:"text",htmlFor:"text"},"What's Cookin'?")),r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",placeholder:"ingredient (singular)",name:"ingredient",onChange:this.onInputChange,value:this.state.soughtIngredient})),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Search",onClick:this.onSubmit,className:"submit-btn"}))),r.a.createElement("div",null,!0===this.state.ing_found&&r.a.createElement(k,{data:this.state.graphData,findNewSimilaritiesCallback:this.findNewSimilarities})))}}]),t}(a.Component)),y=(n(67),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this))).state={},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",{className:"App-title"},"dinder"),r.a.createElement("p",{className:"App-subtitle"},"The Ingredient Matchmaker")),r.a.createElement("main",{className:"App-body"},r.a.createElement(E,{url:"https://dinder-flask.herokuapp.com/"})),r.a.createElement("footer",null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.2d180d4b.chunk.js.map